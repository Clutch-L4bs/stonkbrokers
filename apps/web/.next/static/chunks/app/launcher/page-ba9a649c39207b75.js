(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{4547:(e,t,a)=>{"use strict";a.d(t,{LauncherBootstrap:()=>H});var l=a(5155),r=a(2115),n=a(2619),s=a.n(n),i=a(598),o=a(8245),c=a(9361),d=a(2307),m=a(6630),h=a(6594),x=a(8070),u=a(8590),g=a(9719),p=a(8839),b=a(2933),f=a(3376),y=a(8604);let v="0x0000000000000000000000000000000000000000";function N(e){return!!(e.finalized||e.pool&&e.pool!==v)}function j(e){let{open:t,onClose:a}=e;return((0,r.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,a]),t)?(0,l.jsxs)("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-label":"Stonk Launcher information",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:a,"aria-hidden":"true"}),(0,l.jsxs)("div",{className:"relative w-full max-w-2xl bg-lm-terminal-darkgray border-4 border-lm-orange border-dashed p-4 md:p-5 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("div",{className:"text-white font-bold text-lg lm-upper",children:"How Stonk Launcher Works"}),(0,l.jsx)("div",{className:"text-lm-gray text-xs mt-1",children:"Launch a token, create a Uniswap v3 pool, and share LP fees with stakers."})]}),(0,l.jsx)(m.$,{variant:"ghost",size:"sm",onClick:a,"aria-label":"Close info",children:"Close"})]}),(0,l.jsxs)("div",{className:"space-y-3 text-sm text-lm-terminal-lightgray",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white font-bold text-xs lm-upper tracking-wider",children:"1) Create a Launch"}),(0,l.jsx)("div",{className:"mt-1",children:"Use the `Create` tab to set your token name/symbol, total supply, sale allocation, and sale price. This deploys a launch contract and a token, and prepares the sale."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white font-bold text-xs lm-upper tracking-wider",children:"2) Finalize and Create the Pool"}),(0,l.jsx)("div",{className:"mt-1",children:"Finalizing creates the trading pool and initializes pricing. After finalization, trading is live on the `Exchange` page."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white font-bold text-xs lm-upper tracking-wider",children:"3) LP Fees and Fee Splitting"}),(0,l.jsx)("div",{className:"mt-1",children:"Trading fees accrue in the Uniswap v3 pool. The launch includes a fee splitter that can collect LP fees and route them to the staking system for distribution."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-white font-bold text-xs lm-upper tracking-wider",children:"4) Stake to Earn Your Share"}),(0,l.jsx)("div",{className:"mt-1",children:"Stake the launched token to earn a pro-rata share of the collected LP fees. You can manage staking in the `Stake/Yield` tab or by opening a specific launch and using `Stake & Earn`. Staking positions have a minimum lock period (typically ~2 weeks)."})]}),(0,l.jsx)("div",{className:"text-[11px] text-lm-gray",children:"Tip: You can also use the intent terminal at the top (e.g. `launch PEPE PEP 1M`, `buy 0.01 ETH`, `stake 1000`, `claim rewards`)."})]})]})]}):null}function w(e){return e.slice(0,6)+"..."+e.slice(-4)}function k(e){return"".concat(b.$.blockExplorerUrl||"https://explorer.testnet.chain.robinhood.com","/address/").concat(e)}function S(e){let t=Math.floor(Date.now()/1e3)-e;return t<60?"just now":t<3600?"".concat(Math.floor(t/60),"m ago"):t<86400?"".concat(Math.floor(t/3600),"h ago"):"".concat(Math.floor(t/86400),"d ago")}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=Number((0,i.J)(e,t));return 0===a?"0":a>=1e9?"".concat((a/1e9).toFixed(2),"B"):a>=1e6?"".concat((a/1e6).toFixed(2),"M"):a>=1e3?"".concat((a/1e3).toFixed(2),"K"):a>=1?a.toLocaleString(void 0,{maximumFractionDigits:2}):a>=.01?a.toFixed(4):a.toExponential(2)}function T(e){if(0n===e)return"0";let t=Number((0,i.J)(e,18));return t>=1e3?"".concat((t/1e3).toFixed(2),"K"):t>=1?t.toFixed(4):t>=.001?t.toFixed(6):t>=1e-6?t.toFixed(8):t.toExponential(2)}function E(e){if(0n===e)return"—";let t=Number((0,o.c)(e));return t>=1?"".concat(t.toFixed(4)," ETH"):t>=.001?"".concat(t.toFixed(6)," ETH"):t>=1e-6?"".concat((1e6*t).toFixed(2)," \xb5ETH"):"".concat(t.toExponential(2)," ETH")}function L(e){let t=["from-orange-500 to-yellow-400","from-cyan-500 to-blue-500","from-emerald-500 to-green-400","from-purple-500 to-pink-500","from-red-500 to-orange-400","from-indigo-500 to-cyan-400","from-amber-400 to-red-500","from-lime-400 to-emerald-500"],a=0;for(let t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t)|0;return t[Math.abs(a)%t.length]}function R(e){return"stonk.launches.v1.".concat(b.$.chainId,".").concat(e.toLowerCase())}function P(e){return"stonk.launches.indexState.v1.".concat(b.$.chainId,".").concat(e.toLowerCase())}function F(e){try{let t=window.localStorage.getItem(P(e));if(!t)return null;let a=JSON.parse(t),l=I(null==a?void 0:a.indexedToBlock);return null!=l?l:null}catch(e){return null}}function I(e){if("string"==typeof e&&/^\d+$/.test(e))try{return BigInt(e)}catch(e){return}}function M(e){let{launches:t,onSelect:a}=e,n=(0,r.useRef)(null),[i,o]=(0,r.useState)(0),[c,d]=(0,r.useState)(!1),m=t.length,h=(0,r.useCallback)(e=>{let t=n.current;if(!t)return;let a=t.children[e];a&&(t.scrollTo({left:a.offsetLeft-12,behavior:"smooth"}),o(e))},[]);return((0,r.useEffect)(()=>{if(m<=1||c)return;let e=setInterval(()=>{o(e=>{let t=(e+1)%m;return h(t),t})},5e3);return()=>clearInterval(e)},[m,c,h]),(0,r.useEffect)(()=>{let e=n.current;if(!e)return;let t=!1;function a(){t||(t=!0,requestAnimationFrame(()=>{if(!e){t=!1;return}let a=Array.from(e.children),l=e.scrollLeft+e.clientWidth/2,r=0,n=1/0;a.forEach((e,t)=>{let a=Math.abs(e.offsetLeft+e.clientWidth/2-l);a<n&&(n=a,r=t)}),o(r),t=!1}))}return e.addEventListener("scroll",a,{passive:!0}),()=>e.removeEventListener("scroll",a)},[]),0===m)?null:(0,l.jsxs)("div",{className:"space-y-2",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px] lm-upper font-bold tracking-wider",children:"Featured Launches"}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("button",{type:"button",onClick:()=>h(Math.max(0,i-1)),className:"w-6 h-6 flex items-center justify-center border border-lm-terminal-gray text-lm-terminal-lightgray hover:border-lm-orange hover:text-lm-orange transition-colors","aria-label":"Previous",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-3 h-3",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.78 4.22a.75.75 0 010 1.06L7.06 8l2.72 2.72a.75.75 0 11-1.06 1.06L5.47 8.53a.75.75 0 010-1.06l3.25-3.25a.75.75 0 011.06 0z",clipRule:"evenodd"})})}),(0,l.jsx)("button",{type:"button",onClick:()=>h(Math.min(m-1,i+1)),className:"w-6 h-6 flex items-center justify-center border border-lm-terminal-gray text-lm-terminal-lightgray hover:border-lm-orange hover:text-lm-orange transition-colors","aria-label":"Next",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-3 h-3",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M6.22 4.22a.75.75 0 011.06 0l3.25 3.25a.75.75 0 010 1.06l-3.25 3.25a.75.75 0 01-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 010-1.06z",clipRule:"evenodd"})})})]})]}),(0,l.jsx)("div",{ref:n,className:"flex gap-3 overflow-x-auto pb-2 snap-x snap-mandatory scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map((e,t)=>{let r=0n===e.saleSupply?0:Number(10000n*e.sold/e.saleSupply)/100,n=0n===e.remaining&&e.saleSupply>0n,i=e.priceWeiPerToken>0n&&e.sold>0n?e.sold*e.priceWeiPerToken/10n**18n:0n,o=L(e.symbol),c=N(e);return(0,l.jsxs)("div",{onClick:()=>a(e),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&a(e)},role:"button",tabIndex:0,className:"snap-start flex-shrink-0 w-[280px] sm:w-[320px] bg-lm-black border border-lm-terminal-gray hover:border-lm-orange transition-all group text-left cursor-pointer focus:outline-none focus:ring-2 focus:ring-lm-orange/40",children:[(0,l.jsxs)("div",{className:"h-20 bg-gradient-to-br ".concat(o," relative overflow-hidden"),children:[e.imageURI&&e.imageURI.startsWith("http")&&(0,l.jsx)("img",{src:e.imageURI,alt:e.symbol,className:"absolute inset-0 w-full h-full object-cover mix-blend-overlay opacity-60",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),(0,l.jsxs)("div",{className:"absolute bottom-2 left-3 flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-9 h-9 bg-black/50 border border-white/20 flex items-center justify-center text-white font-bold text-sm backdrop-blur-sm",children:e.symbol.slice(0,2)}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-white font-bold text-sm leading-tight",children:["$",e.symbol]}),(0,l.jsx)("div",{className:"text-white/70 text-[10px] leading-tight truncate max-w-[180px]",children:e.name})]})]}),c&&e.token&&(0,l.jsx)(s(),{href:"/exchange?in=ETH&out=".concat(e.token),onClick:e=>e.stopPropagation(),className:"absolute bottom-2 right-2 text-[9px] px-2 py-1 border border-lm-green text-lm-green bg-black/40 hover:bg-lm-green/10 transition-colors font-bold",children:"Trade"}),(0,l.jsx)("div",{className:"absolute top-2 right-2",children:(0,l.jsx)("span",{className:"text-[9px] px-1.5 py-0.5 font-bold ".concat(c?"bg-lm-green/20 text-lm-green border border-lm-green/40":n?"bg-white/10 text-white/60 border border-white/20":"bg-lm-orange/20 text-lm-orange border border-lm-orange/40"),children:c?"TRADING":n?"SOLD OUT":"SALE OPEN"})})]}),(0,l.jsxs)("div",{className:"p-3 space-y-2",children:[e.saleSupply>0n&&(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Sale"}),(0,l.jsxs)("span",{className:"text-white font-bold",children:[r.toFixed(1),"%"]})]}),(0,l.jsx)("div",{className:"w-full h-1 bg-lm-terminal-darkgray",children:(0,l.jsx)("div",{className:"h-full transition-all ".concat(e.finalized?"bg-lm-green":"bg-lm-orange"),style:{width:"".concat(Math.min(100,r),"%")}})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-[10px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Price "}),(0,l.jsx)("span",{className:"text-white lm-mono font-bold",children:E(e.priceWeiPerToken)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Raised "}),(0,l.jsxs)("span",{className:"text-white lm-mono font-bold",children:[T(i)," ETH"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-[10px] pt-1 border-t border-lm-terminal-gray",children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:e.blockTimestamp?S(e.blockTimestamp):""}),(0,l.jsx)("span",{className:"text-lm-orange group-hover:underline font-bold",children:"View Details →"})]})]})]},e.launch)})}),m>1&&(0,l.jsx)("div",{className:"flex items-center justify-center gap-1.5",children:t.map((e,t)=>(0,l.jsx)("button",{type:"button",onClick:()=>h(t),className:"transition-all ".concat(t===i?"w-5 h-1.5 bg-lm-orange":"w-1.5 h-1.5 bg-lm-terminal-gray hover:bg-lm-terminal-lightgray"),"aria-label":"Go to slide ".concat(t+1)},t))})]})}function U(e){let{x:t,onClose:a,onBuy:n}=e,[i,o]=(0,r.useState)(""),d=N(t),m=0n===t.saleSupply?0:Number(10000n*t.sold/t.saleSupply)/100,h=0n===t.remaining&&t.saleSupply>0n,x=t.priceWeiPerToken>0n&&t.sold>0n?t.sold*t.priceWeiPerToken/10n**18n:0n,g=(()=>{try{let e=(0,c.g)(i||"0");return e>0n&&t.priceWeiPerToken>0n?C(e*10n**18n/t.priceWeiPerToken):""}catch(e){return""}})(),p=L(t.symbol);return(0,l.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:a,children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,l.jsxs)("div",{className:"relative bg-lm-dark-gray border-2 border-dashed border-lm-orange w-full max-w-lg max-h-[85vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"h-28 bg-gradient-to-br ".concat(p," relative overflow-hidden"),children:[t.imageURI&&t.imageURI.startsWith("http")&&(0,l.jsx)("img",{src:t.imageURI,alt:t.symbol,className:"absolute inset-0 w-full h-full object-cover mix-blend-overlay opacity-50",onError:e=>{e.target.style.display="none"}}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),(0,l.jsx)("button",{type:"button",onClick:a,className:"absolute top-2 right-2 w-7 h-7 flex items-center justify-center bg-black/50 border border-white/20 text-white hover:text-lm-orange transition-colors","aria-label":"Close",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4",children:(0,l.jsx)("path",{d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"})})}),(0,l.jsxs)("div",{className:"absolute bottom-3 left-4 flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-black/50 border border-white/20 flex items-center justify-center text-white font-bold text-lg backdrop-blur-sm",children:t.symbol.slice(0,2)}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-white font-bold text-lg leading-tight",children:["$",t.symbol]}),(0,l.jsx)("div",{className:"text-white/70 text-xs leading-tight",children:t.name})]})]}),(0,l.jsx)("div",{className:"absolute bottom-3 right-4",children:(0,l.jsx)("span",{className:"text-[10px] px-2 py-1 font-bold ".concat(d?"bg-lm-green/20 text-lm-green border border-lm-green/40":h?"bg-white/10 text-white/60 border border-white/20":"bg-lm-orange/20 text-lm-orange border border-lm-orange/40"),children:d?"TRADING LIVE":h?"SOLD OUT":"SALE OPEN"})})]}),(0,l.jsxs)("div",{className:"p-4 space-y-4",children:[t.saleSupply>0n&&(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Sale Progress"}),(0,l.jsxs)("span",{className:"text-white font-bold",children:[m.toFixed(1),"%"]})]}),(0,l.jsx)("div",{className:"w-full h-2 bg-lm-terminal-darkgray border border-lm-terminal-gray",children:(0,l.jsx)("div",{className:"h-full transition-all ".concat(t.finalized?"bg-lm-green":"bg-lm-orange"),style:{width:"".concat(Math.min(100,m),"%")}})}),(0,l.jsxs)("div",{className:"flex justify-between text-[10px] text-lm-terminal-lightgray",children:[(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"text-white lm-mono",children:C(t.sold)})," sold"]}),(0,l.jsxs)("span",{children:[(0,l.jsx)("span",{className:"text-white lm-mono",children:C(t.remaining)})," remaining"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,l.jsxs)("div",{className:"bg-lm-terminal-darkgray border border-lm-terminal-gray p-2",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"Price per Token"}),(0,l.jsx)("div",{className:"text-white lm-mono font-bold",children:E(t.priceWeiPerToken)})]}),(0,l.jsxs)("div",{className:"bg-lm-terminal-darkgray border border-lm-terminal-gray p-2",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"Total Raised"}),(0,l.jsxs)("div",{className:"text-white lm-mono font-bold",children:[T(x)," ETH"]})]}),(0,l.jsxs)("div",{className:"bg-lm-terminal-darkgray border border-lm-terminal-gray p-2",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"Total Supply"}),(0,l.jsx)("div",{className:"text-white lm-mono font-bold",children:C(t.saleSupply)})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[10px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray",children:"Creator"}),(0,l.jsx)("a",{href:k(t.creator),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline lm-mono",children:w(t.creator)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray",children:"Token"}),(0,l.jsx)("a",{href:k(t.token),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline lm-mono",children:w(t.token)})]}),t.pool&&t.pool!==v&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray",children:"Trading Pool"}),(0,l.jsx)("a",{href:k(t.pool),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline lm-mono",children:w(t.pool)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray",children:"Launch Contract"}),(0,l.jsx)("a",{href:k(t.launch),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline lm-mono",children:w(t.launch)})]})]}),t.blockTimestamp&&(0,l.jsxs)("div",{className:"text-[10px] text-lm-terminal-lightgray",children:["Launched ",S(t.blockTimestamp)]}),!d&&t.remaining>0n&&(0,l.jsxs)("div",{className:"space-y-2 bg-lm-terminal-darkgray border border-lm-terminal-gray p-3",children:[(0,l.jsx)("div",{className:"text-white font-bold text-xs lm-upper",children:"Quick Buy"}),(0,l.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(u.p,{value:i,onValueChange:o,placeholder:"ETH to spend"})}),(0,l.jsxs)("button",{type:"button",onClick:()=>{n(t,i),a()},className:"text-xs px-4 py-1.5 bg-lm-orange text-black font-bold hover:bg-lm-orange/80 transition-colors whitespace-nowrap",children:["Buy $",t.symbol]})]}),g&&(0,l.jsxs)("div",{className:"text-[10px] text-lm-terminal-lightgray",children:["You'll receive ≈ ",(0,l.jsxs)("span",{className:"text-white font-bold",children:[g," $",t.symbol]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[d&&t.pool&&t.pool!==v&&(0,l.jsx)(s(),{href:"/exchange?in=ETH&out=".concat(t.token),className:"text-xs px-3 py-1.5 border border-lm-green text-lm-green hover:bg-lm-green/5 transition-colors",onClick:a,children:"Trade on DEX"}),d&&t.stakingVault&&t.stakingVault!==v&&(0,l.jsxs)(s(),{href:"/launcher/".concat(t.launch),className:"text-xs px-3 py-1.5 border border-lm-orange text-lm-orange hover:bg-lm-orange/5 transition-colors",onClick:a,children:["Stake $",t.symbol]}),(0,l.jsx)(s(),{href:"/launcher/".concat(t.launch),className:"text-xs px-3 py-1.5 bg-lm-orange text-black font-bold hover:bg-lm-orange/80 transition-colors",onClick:a,children:"Full Details"})]})]})]})]})}function A(){let{address:e,walletClient:t,requireCorrectChain:a}=(0,g.v)(),[n,i]=(0,r.useState)([]),[o,m]=(0,r.useState)(""),[h,x]=(0,r.useState)(!1),[y,j]=(0,r.useState)("all"),[A,z]=(0,r.useState)({}),[H,B]=(0,r.useState)({}),[$,O]=(0,r.useState)({}),[D,W]=(0,r.useState)(null),V=b.$.launcherFactory,_=(0,r.useRef)(!1),q=(0,r.useRef)(null),K=(0,r.useRef)([]),X=(0,r.useRef)(null);async function Y(e){try{let[t,a,l,r,n,s,i]=await Promise.all([p.R.readContract({address:e.launch,abi:f.F9,functionName:"sold"}),p.R.readContract({address:e.launch,abi:f.F9,functionName:"saleSupply"}),p.R.readContract({address:e.launch,abi:f.F9,functionName:"priceWeiPerToken"}),p.R.readContract({address:e.launch,abi:f.F9,functionName:"remainingForSale"}),p.R.readContract({address:e.launch,abi:f.F9,functionName:"pool"}),p.R.readContract({address:e.launch,abi:f.F9,functionName:"feeSplitter"}),p.R.readContract({address:e.launch,abi:f.F9,functionName:"stakingVault"})]),o=e.finalized;try{let t=await p.R.readContract({address:V,abi:f.GU,functionName:"launches",args:[e.launch]});o=!!(null==t?void 0:t.finalized)||o}catch(e){}return{...e,finalized:o||!!(n&&n!==v),pool:n,feeSplitter:s,stakingVault:i,sold:t,saleSupply:a,priceWeiPerToken:l,remaining:r}}catch(t){return e}}async function G(e){if(!V){m("Missing launcher factory address."),i([]);return}(null==e?void 0:e.silent)||x(!0),(null==e?void 0:e.silent)||m("");try{let n=await p.R.getBlockNumber(),s=BigInt(Math.max(0,Number(b.$.launcherFactoryStartBlock||0))),o=null!=(t=X.current)?t:F(V),c=(null==e?void 0:e.fullReindex)?s:null!==o?o+1n:s,h=(0,d.$)("event LaunchCreated(address indexed creator,address indexed token,address indexed launch,string name,string symbol,string metadataURI,string imageURI)"),x=[];if(c<=n)for(let e=c;e<=n;e+=80000n){let t=e+80000n-1n>n?n:e+80000n-1n,a=await p.R.getLogs({address:V,event:h,fromBlock:e,toBlock:t});x.push(...a)}let u=[...x].reverse(),g=new Set,f=[];for(let e of u){let t=e.args.launch;g.has(t.toLowerCase())||(g.add(t.toLowerCase()),f.push({creator:e.args.creator,token:e.args.token,launch:t,symbol:e.args.symbol||"TOKEN",name:e.args.name||"LAUNCH",imageURI:e.args.imageURI||"",blockNumber:e.blockNumber}))}let y=[...new Set(f.map(e=>e.blockNumber))],v=new Map;await Promise.all(y.map(async e=>{try{let t=await p.R.getBlock({blockNumber:e});v.set(e,Number(t.timestamp))}catch(e){}}));let j=f.map(e=>({...e,finalized:!1,sold:0n,saleSupply:0n,priceWeiPerToken:0n,remaining:0n,blockTimestamp:v.get(e.blockNumber)})),w=new Map;for(let e of K.current)w.set(e.launch.toLowerCase(),e);for(let e of j){let t=e.launch.toLowerCase(),r=w.get(t);r?w.set(t,{...r,creator:e.creator,token:e.token,symbol:e.symbol||r.symbol,name:e.name||r.name,imageURI:e.imageURI||r.imageURI,blockNumber:null!=(a=e.blockNumber)?a:r.blockNumber,blockTimestamp:null!=(l=e.blockTimestamp)?l:r.blockTimestamp}):w.set(t,e)}let k=Array.from(w.values());k.sort((e,t)=>{var a,l,r,n;let s=null!=(a=e.blockTimestamp)?a:0,i=null!=(l=t.blockTimestamp)?l:0;if(i!==s)return i-s;let o=null!=(r=e.blockNumber)?r:0n,c=null!=(n=t.blockNumber)?n:0n;return c>o?1:c<o?-1:0});let S=new Set;for(let e of j)S.add(e.launch.toLowerCase());for(let e of k){if(S.size>=60)break;N(e)||S.add(e.launch.toLowerCase())}let C=k.filter(e=>S.has(e.launch.toLowerCase())),T=await Promise.all(C.map(Y)),E=new Map(T.map(e=>[e.launch.toLowerCase(),e]));if(k=k.map(e=>E.get(e.launch.toLowerCase())||e),i(k),D){let e=k.find(e=>e.launch.toLowerCase()===D.launch.toLowerCase());e&&W(e)}var t,a,l,r=k;try{let e=r.map(e=>{var t;return{v:1,launch:e.launch,creator:e.creator,token:e.token,symbol:e.symbol,name:e.name,imageURI:e.imageURI,finalized:e.finalized,pool:e.pool,feeSplitter:e.feeSplitter,stakingVault:e.stakingVault,sold:e.sold.toString(),saleSupply:e.saleSupply.toString(),priceWeiPerToken:e.priceWeiPerToken.toString(),remaining:e.remaining.toString(),blockNumber:null==(t=e.blockNumber)?void 0:t.toString(),blockTimestamp:e.blockTimestamp,lastUpdatedAt:Date.now()}});window.localStorage.setItem(R(V),JSON.stringify(e))}catch(e){}X.current=n;try{window.localStorage.setItem(P(V),JSON.stringify({v:1,indexedToBlock:n.toString()}))}catch(e){}0===k.length&&m("No launches found yet.")}catch(t){(null==e?void 0:e.silent)||m(String((null==t?void 0:t.shortMessage)||(null==t?void 0:t.message)||t))}finally{(null==e?void 0:e.silent)||x(!1)}}async function J(l,r){let n,s=l.launch,i=r||$[s]||"";if(!e||!t){z(e=>({...e,[s]:"Connect wallet."})),B(e=>({...e,[s]:"error"}));return}try{n=(0,c.g)(i||"0")}catch(e){z(e=>({...e,[s]:"Invalid ETH amount."})),B(e=>({...e,[s]:"error"}));return}if(n<=0n){z(e=>({...e,[s]:"Enter an ETH amount."})),B(e=>({...e,[s]:"error"}));return}z(e=>({...e,[s]:"Buying ".concat(i," ETH of ").concat(l.symbol,"...")})),B(e=>({...e,[s]:"info"}));try{await a();let r=await t.writeContract({address:l.launch,abi:f.F9,functionName:"buy",args:[],value:n,chain:p.A,account:e});z(e=>({...e,[s]:"Confirming on-chain..."})),await p.R.waitForTransactionReceipt({hash:r}),z(e=>({...e,[s]:"Purchased ".concat(l.symbol," tokens for ").concat(i," ETH!")})),B(e=>({...e,[s]:"success"})),await G()}catch(t){let e=String((null==t?void 0:t.shortMessage)||(null==t?void 0:t.message)||t);e.includes("user rejected")||e.includes("User denied")?z(e=>({...e,[s]:"Transaction cancelled."})):z(t=>({...t,[s]:"Buy failed: ".concat(e)})),B(e=>({...e,[s]:"error"}))}}async function Q(l){let r=l.launch+"-fee";if(!e||!t){z(e=>({...e,[r]:"Connect wallet."})),B(e=>({...e,[r]:"error"}));return}if(!l.feeSplitter||l.feeSplitter===v){z(e=>({...e,[r]:"No fee splitter for this launch."})),B(e=>({...e,[r]:"error"}));return}z(e=>({...e,[r]:"Collecting fees..."})),B(e=>({...e,[r]:"info"}));try{await a();let n=await t.writeContract({address:l.feeSplitter,abi:f.nU,functionName:"collectAndSplit",args:[],chain:p.A,account:e});z(e=>({...e,[r]:"Confirming..."})),await p.R.waitForTransactionReceipt({hash:n}),z(e=>({...e,[r]:"Fees collected & split!"})),B(e=>({...e,[r]:"success"}))}catch(e){z(t=>({...t,[r]:String((null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||e)})),B(e=>({...e,[r]:"error"}))}}(0,r.useEffect)(()=>{K.current=n},[n]),(0,r.useEffect)(()=>{if(!V||(q.current&&q.current.toLowerCase()!==V.toLowerCase()&&(_.current=!1,X.current=null),q.current=V,_.current))return;let e=function(e){try{let n=window.localStorage.getItem(R(e));if(!n)return[];let s=JSON.parse(n);if(!Array.isArray(s))return[];let i=[];for(let e of s){var t,a,l,r;1===e.v&&e.launch&&e.creator&&e.token&&/^0x[0-9a-fA-F]{40}$/.test(String(e.launch))&&/^0x[0-9a-fA-F]{40}$/.test(String(e.creator))&&/^0x[0-9a-fA-F]{40}$/.test(String(e.token))&&i.push({launch:e.launch,creator:e.creator,token:e.token,symbol:e.symbol||"TOKEN",name:e.name||"LAUNCH",imageURI:e.imageURI||"",finalized:!!e.finalized,pool:e.pool,feeSplitter:e.feeSplitter,stakingVault:e.stakingVault,sold:null!=(t=I(e.sold))?t:0n,saleSupply:null!=(a=I(e.saleSupply))?a:0n,priceWeiPerToken:null!=(l=I(e.priceWeiPerToken))?l:0n,remaining:null!=(r=I(e.remaining))?r:0n,blockNumber:I(e.blockNumber),blockTimestamp:"number"==typeof e.blockTimestamp?e.blockTimestamp:void 0})}return i.sort((e,t)=>{var a,l,r,n;let s=null!=(a=e.blockTimestamp)?a:0,i=null!=(l=t.blockTimestamp)?l:0;if(i!==s)return i-s;let o=null!=(r=e.blockNumber)?r:0n,c=null!=(n=t.blockNumber)?n:0n;return c>o?1:c<o?-1:0}),i}catch(e){return[]}}(V);e.length>0&&i(e),X.current=F(V),_.current=!0},[V]),(0,r.useEffect)(()=>{G({fullReindex:!0}).catch(()=>{})},[V]),(0,r.useEffect)(()=>{if(!V)return;let e=setInterval(()=>{G({silent:!0}).catch(()=>{})},3e4);return()=>clearInterval(e)},[V]);let Z=(0,r.useMemo)(()=>"open"===y?n.filter(e=>!N(e)):"finalized"===y?n.filter(e=>N(e)):n,[n,y]);return(0,l.jsxs)("div",{className:"space-y-4",children:[n.length>0&&(0,l.jsx)(M,{launches:n,onSelect:W}),D&&(0,l.jsx)(U,{x:D,onClose:()=>W(null),onBuy:(e,t)=>J(e,t)}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[(0,l.jsx)("div",{className:"flex items-center gap-1",children:["all","open","finalized"].map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>j(e),className:"text-[10px] px-2 py-1 border transition-colors capitalize ".concat(y===e?"border-lm-orange text-lm-orange bg-lm-orange/5":"border-lm-terminal-gray text-lm-gray hover:border-lm-gray"),children:"all"===e?"All (".concat(n.length,")"):"open"===e?"Open (".concat(n.filter(e=>!N(e)).length,")"):"Live (".concat(n.filter(e=>N(e)).length,")")},e))}),(0,l.jsxs)("div",{className:"flex gap-1",children:[(0,l.jsx)("button",{type:"button",onClick:()=>G({fullReindex:!0}),disabled:h,className:"text-[10px] px-2 py-1 border border-lm-terminal-gray text-lm-gray hover:border-lm-orange hover:text-lm-orange transition-colors disabled:opacity-40 disabled:pointer-events-none",title:"Rescans all LaunchCreated events from the factory start block",children:h?"...":"Index All"}),(0,l.jsx)("button",{type:"button",onClick:()=>G(),disabled:h,className:"text-[10px] px-2 py-1 border border-lm-orange text-lm-orange hover:bg-lm-orange/5 transition-colors disabled:opacity-40 disabled:pointer-events-none",children:h?"...":"Refresh"}),n.length>0&&(0,l.jsx)("button",{type:"button",onClick:()=>{try{window.localStorage.removeItem(R(V))}catch(e){}try{window.localStorage.removeItem(P(V))}catch(e){}i([]),K.current=[],X.current=null,_.current=!1,G().catch(()=>{})},className:"text-[10px] px-2 py-1 border border-lm-terminal-gray text-lm-gray hover:border-lm-red hover:text-lm-red transition-colors",title:"Clears your local cached launches (does not affect on-chain data)",children:"Clear Cache"})]})]}),h&&(0,l.jsx)("div",{className:"text-lm-gray text-xs animate-pulse text-center py-4",children:"Indexing launches..."}),o&&!h&&(0,l.jsx)("div",{className:"text-lm-red text-xs",children:o}),0!==Z.length||h?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Z.map(t=>{let a=t.launch,r=0n===t.saleSupply?0:Number(10000n*t.sold/t.saleSupply)/100,n=0n===t.remaining&&t.saleSupply>0n,i=t.priceWeiPerToken>0n&&t.sold>0n?t.sold*t.priceWeiPerToken/10n**18n:0n,o=$[a]&&t.priceWeiPerToken>0n?(()=>{try{let e=(0,c.g)($[a]||"0");return e>0n?C(e*10n**18n/t.priceWeiPerToken):""}catch(e){return""}})():"",d=A[a],m=H[a]||"info",h=a+"-fee",x=A[h],g=H[h]||"info";return(0,l.jsxs)("div",{className:"bg-lm-black border border-lm-terminal-gray hover:border-lm-terminal-lightgray transition-colors p-3 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>W(t),className:"flex items-center gap-2 min-w-0 text-left group",children:[t.imageURI&&t.imageURI.startsWith("http")?(0,l.jsx)("img",{src:t.imageURI,alt:t.symbol,className:"w-8 h-8 border border-lm-terminal-gray object-cover flex-shrink-0",onError:e=>{e.target.style.display="none"}}):(0,l.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br ".concat(L(t.symbol)," flex items-center justify-center text-white font-bold text-[10px] flex-shrink-0"),children:t.symbol.slice(0,2)}),(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsxs)("span",{className:"text-white font-bold text-sm group-hover:text-lm-orange transition-colors",children:["$",t.symbol]}),(0,l.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 border ".concat(N(t)?"border-lm-green text-lm-green":n?"border-lm-gray text-lm-gray":"border-lm-orange text-lm-orange"),children:N(t)?"TRADING":n?"SOLD OUT":"SALE OPEN"})]}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px] truncate",children:t.name})]})]}),(0,l.jsxs)("div",{className:"text-right flex-shrink-0",children:[t.blockTimestamp&&(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:S(t.blockTimestamp)}),(0,l.jsxs)("a",{href:k(t.creator),target:"_blank",rel:"noreferrer",className:"text-lm-terminal-lightgray hover:text-lm-orange text-[10px] lm-mono transition-colors",children:["by ",w(t.creator)]})]})]}),t.saleSupply>0n&&(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Sale"}),(0,l.jsxs)("span",{className:"text-white font-bold",children:[r.toFixed(1),"%"]})]}),(0,l.jsx)("div",{className:"w-full h-1.5 bg-lm-terminal-darkgray border border-lm-terminal-gray",children:(0,l.jsx)("div",{className:"h-full transition-all ".concat(t.finalized?"bg-lm-green":"bg-lm-orange"),style:{width:"".concat(Math.min(100,r),"%")}})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-[10px]",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Price "}),(0,l.jsx)("span",{className:"text-white lm-mono font-bold",children:E(t.priceWeiPerToken)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Raised "}),(0,l.jsxs)("span",{className:"text-white lm-mono font-bold",children:[T(i)," ETH"]})]})]}),!N(t)&&t.remaining>0n&&(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsxs)("div",{className:"flex gap-1.5 items-end",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(u.p,{value:$[a]||"",onValueChange:e=>O(t=>({...t,[a]:e})),placeholder:"ETH to spend"})}),(0,l.jsx)("button",{type:"button",onClick:()=>J(t),disabled:!e||"info"===H[a],className:"text-xs px-3 py-1.5 bg-lm-orange text-black font-bold hover:bg-lm-orange/80 disabled:opacity-40 disabled:pointer-events-none transition-colors whitespace-nowrap",children:"info"===H[a]?"...":"Buy"})]}),o&&(0,l.jsxs)("div",{className:"text-[10px] text-lm-terminal-lightgray",children:["≈ ",(0,l.jsxs)("span",{className:"text-white font-bold",children:[o," $",t.symbol]})]}),d&&(0,l.jsx)("div",{className:"text-[10px] ".concat("success"===m?"text-lm-green":"error"===m?"text-lm-red":"text-lm-gray"),children:d})]}),N(t)&&(0,l.jsxs)("div",{className:"flex items-center gap-1.5 flex-wrap",children:[t.pool&&t.pool!==v&&(0,l.jsx)(s(),{href:"/exchange?in=ETH&out=".concat(t.token),className:"text-[10px] px-2 py-1 border border-lm-green text-lm-green hover:bg-lm-green/5 transition-colors",children:"Trade"}),t.stakingVault&&t.stakingVault!==v&&(0,l.jsx)(s(),{href:"/launcher/".concat(t.launch),className:"text-[10px] px-2 py-1 border border-lm-orange text-lm-orange hover:bg-lm-orange/5 transition-colors",children:"Stake"}),t.feeSplitter&&t.feeSplitter!==v&&(0,l.jsx)("button",{type:"button",onClick:()=>Q(t),disabled:"info"===H[t.launch+"-fee"],className:"text-[10px] px-2 py-1 border border-lm-terminal-gray text-lm-terminal-lightgray hover:border-lm-orange hover:text-lm-orange transition-colors disabled:opacity-40 disabled:pointer-events-none",children:"info"===H[t.launch+"-fee"]?"...":"Fees"}),x&&(0,l.jsx)("span",{className:"text-[10px] ".concat("success"===g?"text-lm-green":"error"===g?"text-lm-red":"text-lm-gray"),children:x})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-1 border-t border-lm-terminal-gray",children:[(0,l.jsx)("a",{href:k(t.launch),target:"_blank",rel:"noreferrer",className:"text-[10px] text-lm-terminal-lightgray hover:text-lm-orange transition-colors lm-mono",children:w(t.launch)}),(0,l.jsx)("button",{type:"button",onClick:()=>W(t),className:"text-[10px] px-2 py-1 bg-lm-orange text-black font-bold hover:bg-lm-orange/80 transition-colors",children:"Details"})]})]},a)})}):(0,l.jsx)("div",{className:"text-lm-gray text-sm text-center py-8",children:"No launches found. Be the first to create one!"})]})}function z(){let{address:e,walletClient:t,requireCorrectChain:a}=(0,g.v)(),[n,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[x,u]=(0,r.useState)({}),[y,N]=(0,r.useState)({}),j=b.$.launcherFactory;async function k(){if(!e||!j)return void i([]);h(!0),c("");try{let t=await p.R.getBlockNumber(),a=(0,d.$)("event LaunchCreated(address indexed creator,address indexed token,address indexed launch,string name,string symbol,string metadataURI,string imageURI)"),l=await p.R.getLogs({address:j,event:a,fromBlock:t>100000n?t-100000n:0n,toBlock:t}),r=new Set,n=[];for(let e of l){let t=e.args.launch.toLowerCase();r.has(t)||(r.add(t),n.push(e.args.launch))}let s=[];for(let t of n)try{let a=await p.R.readContract({address:t,abi:f.F9,functionName:"stakingVault"});if(!a||a===v)continue;let l=await p.R.readContract({address:a,abi:f.gh,functionName:"users",args:[e]}),r=l.staked;if(r<=0n)continue;let n=await p.R.readContract({address:a,abi:f.gh,functionName:"stakeToken"}),i="TOKEN",o=18;try{i=await p.R.readContract({address:n,abi:f.Qi,functionName:"symbol"})}catch(e){}try{o=Number(await p.R.readContract({address:n,abi:f.Qi,functionName:"decimals"}))}catch(e){}let c=0n,d=0n;try{let t=await p.R.readContract({address:a,abi:f.gh,functionName:"pendingRewards",args:[e]});c=t.pending0||t[0]||0n,d=t.pending1||t[1]||0n}catch(e){}let m="WETH",h=i;try{let e=await p.R.readContract({address:a,abi:f.gh,functionName:"rewardToken0"}),t=await p.R.readContract({address:a,abi:f.gh,functionName:"rewardToken1"});try{m=await p.R.readContract({address:e,abi:f.Qi,functionName:"symbol"})}catch(e){}try{h=await p.R.readContract({address:t,abi:f.Qi,functionName:"symbol"})}catch(e){}}catch(e){}s.push({launchAddr:t,vaultAddr:a,stakeTokenAddr:n,stakeSymbol:i,stakeDecimals:o,staked:r,unlockTime:l.unlockTime,pending0:c,pending1:d,rewardToken0Symbol:m,rewardToken1Symbol:h})}catch(e){}i(s),0===s.length&&c("No active stakes found.")}catch(e){c(String((null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||e))}finally{h(!1)}}async function S(l){if(!e||!t)return;let r=l.vaultAddr;u(e=>({...e,[r]:"Claiming..."})),N(e=>({...e,[r]:"info"}));try{await a();let n=await t.writeContract({address:l.vaultAddr,abi:f.gh,functionName:"claim",args:[],chain:t.chain,account:e});u(e=>({...e,[r]:"Confirming..."})),await p.R.waitForTransactionReceipt({hash:n}),u(e=>({...e,[r]:"Claimed!"})),N(e=>({...e,[r]:"success"})),await k()}catch(e){u(t=>({...t,[r]:String((null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||e)})),N(e=>({...e,[r]:"error"}))}}async function E(l){if(!e||!t)return;let r=l.vaultAddr,n=BigInt(Math.floor(Date.now()/1e3));if(l.unlockTime>n){u(e=>({...e,[r]:"Still locked for ~".concat(Math.ceil(Number(l.unlockTime-n)/3600)," hours")})),N(e=>({...e,[r]:"error"}));return}u(e=>({...e,[r]:"Unstaking..."})),N(e=>({...e,[r]:"info"}));try{await a();let n=await t.writeContract({address:l.vaultAddr,abi:f.gh,functionName:"unstake",args:[l.staked],chain:t.chain,account:e});u(e=>({...e,[r]:"Confirming..."})),await p.R.waitForTransactionReceipt({hash:n}),u(e=>({...e,[r]:"Unstaked!"})),N(e=>({...e,[r]:"success"})),await k()}catch(e){u(t=>({...t,[r]:String((null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||e)})),N(e=>({...e,[r]:"error"}))}}return((0,r.useEffect)(()=>{k().catch(()=>{})},[e]),e)?(0,l.jsxs)("div",{className:"space-y-3",children:[n.length>0&&(0,l.jsx)("div",{className:"bg-lm-terminal-darkgray border border-lm-terminal-gray p-2 flex items-center justify-between text-xs",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Active Positions: "}),(0,l.jsx)("span",{className:"text-white font-bold",children:n.length})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:m?(0,l.jsx)("span",{className:"animate-pulse",children:"Scanning vaults..."}):(0,l.jsxs)("span",{children:[n.length," position",1!==n.length?"s":""]})}),(0,l.jsx)("button",{type:"button",onClick:()=>k(),disabled:m,className:"text-xs px-2 py-1 border border-lm-orange text-lm-orange hover:bg-lm-orange/5 transition-colors",children:m?"...":"Refresh"})]}),o&&0===n.length&&(0,l.jsx)("div",{className:"text-lm-gray text-sm text-center py-6",children:o}),n.length>0&&(0,l.jsx)("div",{className:"space-y-2",children:n.map(e=>{let t=e.vaultAddr,a=BigInt(Math.floor(Date.now()/1e3)),r=e.unlockTime>a,n=r?Math.ceil(Number(e.unlockTime-a)/3600):0,i=e.pending0>0n||e.pending1>0n,o=x[t],c=y[t]||"info";return(0,l.jsxs)("div",{className:"bg-lm-black border border-lm-terminal-gray p-3 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("span",{className:"text-white font-bold",children:["$",e.stakeSymbol]}),(0,l.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 border ".concat(r?"border-lm-red text-lm-red":"border-lm-green text-lm-green"),children:r?"LOCKED — ".concat(n,"h left"):"UNLOCKED"})]}),(0,l.jsx)(s(),{href:"/launcher/".concat(e.launchAddr),className:"text-[10px] text-lm-orange hover:underline lm-mono",children:w(e.vaultAddr)})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray",children:"Staked"}),(0,l.jsx)("div",{className:"text-white lm-mono font-bold",children:C(e.staked,e.stakeDecimals)})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray",children:["Rewards (",e.rewardToken0Symbol,")"]}),(0,l.jsx)("div",{className:"text-lm-orange lm-mono",children:T(e.pending0)})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray",children:["Rewards (",e.rewardToken1Symbol,")"]}),(0,l.jsx)("div",{className:"text-lm-orange lm-mono",children:T(e.pending1)})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[i&&(0,l.jsx)("button",{type:"button",onClick:()=>S(e),className:"text-xs px-3 py-1 bg-lm-orange text-black font-bold hover:bg-lm-orange/80 transition-colors",children:"Claim"}),(0,l.jsx)("button",{type:"button",onClick:()=>E(e),disabled:r,className:"text-xs px-3 py-1 border border-lm-orange text-lm-orange transition-colors ".concat(r?"opacity-40":"hover:bg-lm-orange/5"),children:"Unstake All"}),o&&(0,l.jsx)("span",{className:"text-[10px] ".concat("success"===c?"text-lm-green":"error"===c?"text-lm-red":"text-lm-gray"),children:o})]})]},t)})})]}):(0,l.jsx)("div",{className:"text-lm-gray text-sm text-center py-6",children:"Connect wallet to view your stakes."})}function H(e){let{LauncherPanel:t}=e,a=(0,r.useMemo)(()=>[{id:"launches",label:"Launches",hint:"Discover + buy tokens"},{id:"create",label:"Create",hint:"Launch a new meme coin"},{id:"stake",label:"Stake/Yield",hint:"Your staking positions"}],[]),[n,s]=(0,r.useState)("launches"),[i,o]=(0,r.useState)(!1),c=(0,r.useCallback)(e=>{["launch_token","finalize_launch"].includes(e.type)?s("create"):["buy_token","filter_launches","collect_lp_fees"].includes(e.type)?s("launches"):["stake","unstake","claim_rewards"].includes(e.type)?s("stake"):"switch_tab"===e.type&&["launches","create","stake"].includes(e.tab)&&s(e.tab)},[]);return(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(y.jc,{context:"launcher",onIntent:c,placeholder:"launch PEPE PEP 1M \xb7 buy 0.01 ETH \xb7 stake 1000 \xb7 claim rewards \xb7 help"}),(0,l.jsxs)(h.Z,{title:"Stonk Launcher",hint:"Launch meme coins with instant DEX liquidity, fee splitting, and staking rewards.",right:(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,l.jsx)(x.Z,{tabs:a,active:n,onChange:s}),(0,l.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>o(!0),"aria-label":"Launcher information",children:"Info"})]}),children:["launches"===n?(0,l.jsx)(A,{}):null,"create"===n?(0,l.jsx)(t,{}):null,"stake"===n?(0,l.jsx)(z,{}):null]}),(0,l.jsx)(j,{open:i,onClose:()=>o(!1)})]})}},5375:(e,t,a)=>{"use strict";a.d(t,{LauncherPanel:()=>N});var l=a(5155),r=a(2115),n=a(598),s=a(5028),i=a(9361),o=a(2938),c=a(6630),d=a(8590),m=a(9719),h=a(8839),x=a(2933),u=a(3376),g=a(8604);function p(e){return e.slice(0,6)+"..."+e.slice(-4)}function b(e){return"".concat(x.$.blockExplorerUrl||"https://explorer.testnet.chain.robinhood.com","/address/").concat(e)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,a=(0,n.J)(e,t),l=Number(a);return 0===l?"0":l>=1e6?"".concat((l/1e6).toFixed(2),"M"):l>=1e3?"".concat((l/1e3).toFixed(2),"K"):l>=1?l.toFixed(2):a}function y(e){let t=Number((0,n.J)(e,18));return 0===t?"0":t>=1?t.toFixed(4):t>=.001?t.toFixed(6):t.toExponential(2)}let v=[{label:"0.05%",value:"500",hint:"Stablecoins"},{label:"0.30%",value:"3000",hint:"Recommended"},{label:"1.00%",value:"10000",hint:"Exotic pairs"}];function N(){let{address:e,walletClient:t,requireCorrectChain:a,connect:n}=(0,m.v)(),[N,j]=(0,r.useState)(""),[w,k]=(0,r.useState)(""),[S,C]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),[L,R]=(0,r.useState)("1000000"),[P,F]=(0,r.useState)("5"),[I,M]=(0,r.useState)("60"),[U,A]=(0,r.useState)("0.000001"),[z,H]=(0,r.useState)(""),[B,$]=(0,r.useState)("0.000001"),[O,D]=(0,r.useState)(!1),[W,V]=(0,r.useState)(""),[_,q]=(0,r.useState)(""),[K,X]=(0,r.useState)("3000"),[Y,G]=(0,r.useState)(""),[J,Q]=(0,r.useState)(0n),[Z,ee]=(0,r.useState)(""),[et,ea]=(0,r.useState)("info"),[el,er]=(0,r.useState)(!1),[en,es]=(0,r.useState)(""),[ei,eo]=(0,r.useState)(null),ec=x.$.launcherFactory,ed=(0,r.useMemo)(()=>{try{return(0,s.X)(L||"0",18)}catch(e){return 0n}},[L]);(0,g.SL)((0,r.useCallback)(e=>{"launch_token"===e.type?(e.name&&j(e.name),e.symbol&&k(e.symbol),e.supply&&R(e.supply),e.creatorPct&&F(e.creatorPct),e.salePct&&M(e.salePct),e.price&&A(e.price)):"finalize_launch"===e.type&&(e.address&&H(e.address),e.price&&$(e.price),e.fee&&X(e.fee))},[]));let em=(0,r.useMemo)(()=>{try{return(0,i.g)(U||"0")}catch(e){return 0n}},[U]),eh=(0,r.useMemo)(()=>Math.round(100*Number(P||"0")),[P]),ex=(0,r.useMemo)(()=>Math.round(100*Number(I||"0")),[I]),eu=(0,r.useMemo)(()=>{if(ed<=0n)return null;let e=BigInt(Math.max(0,Math.min(5e3,eh))),t=BigInt(Math.max(0,Math.min(1e4,ex))),a=ed*e/10000n,l=ed-a,r=l*t/10000n,n=l-r,s=Number(e)/100,i=ed>0n?Number(10000n*r/ed)/100:0,o=ed>0n?Number(10000n*n/ed)/100:0,c=em>0n?r*em/10n**18n:0n;return{creatorTokens:a,saleTokens:r,lpTokens:n,creatorPctNum:s,salePctOfTotal:i,lpPctOfTotal:o,totalSaleCostEth:c}},[ed,eh,ex,em]),eg=(0,r.useMemo)(()=>{try{let e=(0,i.g)(B||"0");if(e<=0n||!x.$.weth||!Y)return"";let t=x.$.weth,a=Y.toLowerCase()<t.toLowerCase()?Y:t,l=e;if(a.toLowerCase()===t.toLowerCase()&&(l=10n**36n/e)<=0n)return"";let r=2n**96n,n=r*r*l/10n**18n;return(function(e){if(e<0n)throw Error("sqrt of negative");if(e<2n)return e;let t=e,a=t+1n>>1n;for(;a<t;)t=a,a=a+e/a>>1n;return t})(n).toString()}catch(e){return""}},[B,Y]),ep=(0,r.useMemo)(()=>W.trim()?W.trim():eg,[eg,W]);async function eb(e){try{let t=await h.R.readContract({address:e,abi:u.F9,functionName:"memeToken"});G(t)}catch(e){G("")}}async function ef(){if(!e){ee("Connect wallet."),ea("error");return}if(!t){ee("No wallet client."),ea("error");return}if(!ec){ee("Missing factory address in config."),ea("error");return}er(!0),es(""),eo(null);try{let l=(w||"").trim().slice(0,11);if(!l)throw Error("Symbol is required.");if(!N.trim())throw Error("Name is required.");let r=BigInt(eh),n=BigInt(ex);if(r>5000n)throw Error("Creator allocation cannot exceed 50%.");if(n>10000n)throw Error("Sale portion cannot exceed 100%.");if(r+n>10000n)throw Error("Creator + sale allocation cannot exceed 100%.");if(em<=0n)throw Error("Sale price must be greater than 0.");if(ed<=0n)throw Error("Total supply must be greater than 0.");ee("Launching ".concat(l," (").concat(L," supply)...")),ea("info"),await a(),ee("Awaiting wallet signature...");let s=await t.writeContract({address:ec,abi:u.GU,functionName:"createLaunch",args:[{name:N.trim(),symbol:l,metadataURI:S.trim(),imageURI:T.trim(),totalSupplyWei:ed,creatorAllocationBps:r,saleBpsOfRemaining:n,priceWeiPerToken:em}],chain:h.A,account:e});for(let e of(es(s),ee("Confirming on-chain..."),(await h.R.waitForTransactionReceipt({hash:s})).logs))try{let t=(0,o.j)({abi:u.GU,data:e.data,topics:e.topics});if("LaunchCreated"===t.eventName){let e=t.args,a=e.launch;H(a),G(e.token),$(U),eo({launch:a,token:e.token,symbol:String(e.symbol)}),eb(a).catch(()=>{}),ee("".concat(String(e.symbol)," launched! Token: ").concat(p(e.token),". Proceed to Step 2 (Finalize) to seed DEX liquidity.")),ea("success");return}}catch(e){}ee("Transaction confirmed but no LaunchCreated event found."),ea("info")}catch(t){let e=String((null==t?void 0:t.shortMessage)||(null==t?void 0:t.message)||t);e.includes("user rejected")||e.includes("User denied")?ee("Transaction cancelled by user."):ee("Launch failed: ".concat(e)),ea("error")}finally{er(!1)}}async function ey(){if(!e){ee("Connect wallet."),ea("error");return}if(!t){ee("No wallet client."),ea("error");return}if(!ec){ee("Missing factory address."),ea("error");return}if(!z){ee("Enter or create a launch first."),ea("error");return}er(!0),es("");try{ee("Preparing finalization..."),ea("info"),await a();let l=BigInt(ep||"0"),r=Number(K||"0");if(!l)throw Error("Set initial price to compute pool price");let n=0n;try{n=(0,i.g)((_||"0").trim()||"0")}catch(e){throw Error("Extra ETH for liquidity is invalid. Enter a valid number (or 0).")}if(0n===J&&0n===n)throw Error("This launch has 0 ETH raised so far. Add a small ETH top-up (or run a sale first) to seed liquidity.");ee("Awaiting wallet signature...");let s=await t.writeContract({address:ec,abi:u.GU,functionName:"finalizeLaunch",args:[z,l,r],value:n,chain:h.A,account:e});es(s),ee("Confirming finalization...");let o=await h.R.waitForTransactionReceipt({hash:s});"success"===o.status?(ee("Launch finalized! Pool created, LP minted, staking vault live."),ea("success")):(ee("Finalize transaction reverted."),ea("error"))}catch(e){ee(String((null==e?void 0:e.shortMessage)||(null==e?void 0:e.message)||e)),ea("error")}finally{er(!1)}}return(0,r.useEffect)(()=>{let e=!1;return(async function(){if(!z||!/^0x[0-9a-fA-F]{40}$/.test(String(z)))return void Q(0n);try{let t=await h.R.getBalance({address:z});e||Q(t)}catch(t){e||Q(0n)}})().catch(()=>{}),()=>{e=!0}},[z]),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-lm-black border border-lm-terminal-gray p-3 space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-6 h-6 flex items-center justify-center bg-lm-orange text-black font-bold text-xs rounded-full",children:"1"}),(0,l.jsx)("span",{className:"text-white font-bold text-sm lm-upper",children:"Create Your Token"})]}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Define your meme coin's name, supply, and tokenomics. Tokens are created instantly on-chain."}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Token Name"}),(0,l.jsx)(d.p,{value:N,onValueChange:j,numeric:!1,placeholder:"e.g. Stonk Coin"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Ticker Symbol"}),(0,l.jsx)(d.p,{value:w,onValueChange:k,numeric:!1,placeholder:"e.g. STONK"}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"Max 11 characters"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-xs",children:["Description / Metadata URI ",(0,l.jsx)("span",{className:"text-lm-gray",children:"(optional)"})]}),(0,l.jsx)(d.p,{value:S,onValueChange:C,numeric:!1,placeholder:"ipfs://..."})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-xs",children:["Token Image URL ",(0,l.jsx)("span",{className:"text-lm-gray",children:"(optional)"})]}),(0,l.jsx)(d.p,{value:T,onValueChange:E,numeric:!1,placeholder:"https://... or ipfs://..."})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Total Supply"}),(0,l.jsx)(d.p,{value:L,onValueChange:R,placeholder:"1000000"}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"How many tokens to create (e.g. 1,000,000)"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Sale Price per Token (in ETH)"}),(0,l.jsx)(d.p,{value:U,onValueChange:A,placeholder:"0.000001"}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"How much ETH buyers pay per token"})]})]}),(0,l.jsxs)("div",{className:"bg-lm-terminal-darkgray border border-lm-terminal-gray p-3 space-y-3",children:[(0,l.jsx)("div",{className:"text-white font-bold text-xs lm-upper",children:"Tokenomics"}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Your Share (creator allocation)"}),(0,l.jsxs)("div",{className:"text-lm-orange font-bold text-sm lm-mono",children:[P||"0","%"]})]}),(0,l.jsx)("input",{type:"range",min:0,max:50,step:1,value:Number(P)||0,onChange:e=>F(String(e.target.value)),className:"w-full h-1.5 bg-lm-terminal-gray rounded-none appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3.5 [&::-webkit-slider-thumb]:h-3.5 [&::-webkit-slider-thumb]:bg-lm-orange [&::-webkit-slider-thumb]:rounded-none"}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"Tokens sent to your wallet on creation. Max 50%."})]}),(0,l.jsxs)("div",{className:"space-y-1.5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Public Sale"}),(0,l.jsxs)("div",{className:"text-lm-green font-bold text-sm lm-mono",children:[I||"0","%"]})]}),(0,l.jsx)("input",{type:"range",min:0,max:100,step:1,value:Number(I)||0,onChange:e=>M(String(e.target.value)),className:"w-full h-1.5 bg-lm-terminal-gray rounded-none appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3.5 [&::-webkit-slider-thumb]:h-3.5 [&::-webkit-slider-thumb]:bg-lm-green [&::-webkit-slider-thumb]:rounded-none"}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"Percentage of remaining tokens (after creator share) offered for public sale. The rest goes to DEX liquidity."})]})]}),eu&&(0,l.jsxs)("div",{className:"bg-lm-terminal-darkgray border border-lm-terminal-gray p-3 space-y-2",children:[(0,l.jsx)("div",{className:"text-white font-bold text-xs lm-upper",children:"Distribution Preview"}),(0,l.jsxs)("div",{className:"flex gap-0.5 h-3 rounded-sm overflow-hidden",children:[eu.creatorPctNum>0&&(0,l.jsx)("div",{className:"bg-lm-orange transition-all",style:{width:"".concat(eu.creatorPctNum,"%")}}),eu.salePctOfTotal>0&&(0,l.jsx)("div",{className:"bg-lm-green transition-all",style:{width:"".concat(eu.salePctOfTotal,"%")}}),eu.lpPctOfTotal>0&&(0,l.jsx)("div",{className:"bg-white/20 transition-all",style:{width:"".concat(eu.lpPctOfTotal,"%")}})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("span",{className:"w-2.5 h-2.5 bg-lm-orange flex-shrink-0"}),(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"You (creator)"})]}),(0,l.jsx)("div",{className:"text-white font-bold lm-mono ml-4",children:f(eu.creatorTokens)}),(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-[10px] ml-4",children:[eu.creatorPctNum,"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("span",{className:"w-2.5 h-2.5 bg-lm-green flex-shrink-0"}),(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"Public Sale"})]}),(0,l.jsx)("div",{className:"text-white font-bold lm-mono ml-4",children:f(eu.saleTokens)}),(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-[10px] ml-4",children:[eu.salePctOfTotal.toFixed(1),"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,l.jsx)("span",{className:"w-2.5 h-2.5 bg-white/20 flex-shrink-0"}),(0,l.jsx)("span",{className:"text-lm-terminal-lightgray",children:"DEX Liquidity"})]}),(0,l.jsx)("div",{className:"text-white font-bold lm-mono ml-4",children:f(eu.lpTokens)}),(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-[10px] ml-4",children:[eu.lpPctOfTotal.toFixed(1),"%"]})]})]}),eu.totalSaleCostEth>0n&&(0,l.jsxs)("div",{className:"text-xs text-lm-terminal-lightgray pt-1 border-t border-lm-terminal-gray",children:["If every token sells: ",(0,l.jsxs)("span",{className:"text-white font-bold lm-mono",children:[y(eu.totalSaleCostEth)," ETH"]})," raised"]})]}),(0,l.jsx)(c.$,{onClick:e?ef:n,loading:el,disabled:el||!!e&&(!N.trim()||!w.trim()),variant:"primary",size:"lg",className:"w-full",children:el?"Creating Token...":e?"Launch $".concat(w.toUpperCase()||"TOKEN"):"Connect Wallet"}),ei&&(0,l.jsxs)("div",{className:"bg-lm-terminal-darkgray border border-lm-green p-3 space-y-1.5",children:[(0,l.jsx)("div",{className:"text-lm-green font-bold text-xs lm-upper",children:"Token Created Successfully"}),(0,l.jsxs)("div",{className:"text-xs text-lm-gray",children:[(0,l.jsxs)("span",{className:"text-white font-bold",children:["$",ei.symbol]})," is live. Now finalize below to create the DEX pool."]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray",children:"Token"}),(0,l.jsx)("a",{href:b(ei.token),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline lm-mono",children:p(ei.token)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray",children:"Launch Contract"}),(0,l.jsx)("a",{href:b(ei.launch),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline lm-mono",children:p(ei.launch)})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-lm-black border border-lm-terminal-gray p-3 space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-6 h-6 flex items-center justify-center bg-lm-orange text-black font-bold text-xs rounded-full",children:"2"}),(0,l.jsx)("span",{className:"text-white font-bold text-sm lm-upper",children:"Go Live on DEX"})]}),(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-xs",children:["Creates a Uniswap V3 trading pool, adds initial liquidity, and sets up fee splitting + staking rewards.",ei&&(0,l.jsx)("span",{className:"text-lm-green",children:" Auto-filled from your newly created token above."})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Launch Contract Address"}),(0,l.jsx)(d.p,{value:z,numeric:!1,placeholder:"0x... (auto-filled after creation)",onValueChange:e=>{H(e),/^0x[0-9a-fA-F]{40}$/.test(String(e))?eb(e).catch(()=>{}):G("")}})]}),Y&&(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs bg-lm-terminal-darkgray border border-lm-green/20 p-2",children:[(0,l.jsx)("span",{className:"lm-dot lm-dot-green lm-dot-pulse"}),(0,l.jsx)("span",{className:"text-lm-green font-bold",children:"Token detected"}),(0,l.jsxs)("a",{href:b(Y),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline lm-mono",children:[p(Y)," →"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Starting Price (ETH per token)"}),(0,l.jsx)(d.p,{value:B,onValueChange:$,placeholder:"0.000001"}),(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:"Should match the sale price you set above"})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsx)("div",{className:"text-lm-terminal-lightgray text-xs",children:"Trading Fee Tier"}),(0,l.jsx)("div",{className:"flex gap-1",children:v.map(e=>(0,l.jsxs)("button",{type:"button",onClick:()=>X(e.value),className:"flex-1 text-center py-1.5 border transition-colors ".concat(K===e.value?"border-lm-orange text-lm-orange bg-lm-orange/5":"border-lm-terminal-gray text-lm-gray hover:border-lm-gray"),children:[(0,l.jsx)("div",{className:"text-xs font-bold",children:e.label}),(0,l.jsx)("div",{className:"text-[9px] opacity-60",children:e.hint})]},e.value))})]})]}),(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-xs",children:["Extra ETH for Liquidity ",(0,l.jsx)("span",{className:"text-lm-gray",children:"(optional)"})]}),(0,l.jsx)(d.p,{value:_,onValueChange:q,placeholder:"0.0"}),(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray text-[10px]",children:["ETH raised from sales is automatically added to the pool. Add more here to deepen liquidity.",z?(0,l.jsxs)("span",{className:"block mt-1",children:["ETH currently in launch contract: ",(0,l.jsxs)("span",{className:"text-white lm-mono font-bold",children:[y(J)," ETH"]})]}):null,z&&0n===J?(0,l.jsx)("span",{className:"block mt-1 text-lm-orange",children:"If this is 0, you must top up some ETH (or sell tokens first) or finalization will revert."}):null]})]}),(0,l.jsx)("button",{type:"button",onClick:()=>D(!O),className:"text-lm-terminal-lightgray text-[10px] hover:text-lm-orange transition-colors",children:O?"▾ Hide developer settings":"▸ Developer settings"}),O&&(0,l.jsxs)("div",{className:"space-y-1.5 text-[10px]",children:[(0,l.jsxs)("div",{className:"text-lm-terminal-lightgray",children:["sqrtPriceX96 (auto-computed: ",(0,l.jsx)("span",{className:"text-lm-gray lm-mono",children:eg||"—"}),")"]}),(0,l.jsx)(d.p,{value:W,onValueChange:V,placeholder:"Leave blank for automatic computation",numeric:!1,className:"text-left text-xs"})]}),(0,l.jsx)(c.$,{onClick:e?ey:n,loading:el,disabled:el||!!e&&(!z||!ep),variant:"primary",size:"lg",className:"w-full",children:el?"Finalizing...":e?"Finalize & Create Trading Pool":"Connect Wallet"})]}),Z&&(0,l.jsxs)("div",{className:"text-xs p-2.5 border bg-lm-black flex items-center justify-between gap-2 ".concat("success"===et?"text-lm-green":"error"===et?"text-lm-red":"text-lm-gray"," ").concat("success"===et?"border-lm-green/20":"error"===et?"border-lm-red/20":"border-lm-terminal-gray"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:["info"===et&&(0,l.jsx)("span",{className:"lm-spinner flex-shrink-0",style:{width:12,height:12,borderWidth:1.5}}),"success"===et&&(0,l.jsx)("span",{className:"lm-dot lm-dot-green flex-shrink-0"}),"error"===et&&(0,l.jsx)("span",{className:"lm-dot lm-dot-red flex-shrink-0"}),(0,l.jsx)("span",{className:"truncate",children:Z})]}),en&&(0,l.jsx)("a",{href:"".concat(x.$.blockExplorerUrl||"https://explorer.testnet.chain.robinhood.com","/tx/").concat(en),target:"_blank",rel:"noreferrer",className:"text-lm-orange hover:underline flex-shrink-0",children:"View Tx →"})]})]})}},6147:(e,t,a)=>{Promise.resolve().then(a.bind(a,4547)),Promise.resolve().then(a.bind(a,5375))},9361:(e,t,a)=>{"use strict";a.d(t,{g:()=>n});var l=a(2023),r=a(5028);function n(e,t="wei"){return(0,r.X)(e,l.eL[t])}}},e=>{e.O(0,[462,476,619,668,918,441,255,358],()=>e(e.s=6147)),_N_E=e.O()}]);